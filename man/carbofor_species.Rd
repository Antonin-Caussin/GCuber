% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/liste.R
\name{carbofor_species}
\alias{carbofor_species}
\title{Explore and display allometric equations by species and source}
\usage{
carbofor_species(species = NULL, equation_type = NULL, plot = TRUE)
}
\arguments{
\item{species}{Character or `NULL`. Human-readable species name used in the
\code{equations$Species} column (e.g., `"Hetre"`, `"Chene sessile"`). If `NULL`,
no species filter is applied (summary mode).}

\item{equation_type}{Character or `NULL`. Equation type to filter on
(e.g., `"V22"`, `"biomass"`, `"height"`), matched against \code{equations$Y}.
If `NULL`, no equation-type filter is applied.}

\item{plot}{Logical. If `TRUE` (default), attempts to render a formatted
table (HTML with \pkg{kableExtra}, or \pkg{gt}); if those packages are not
available, prints a console table. If `FALSE`, simply returns the data.}
}
\value{
Invisibly returns a \code{data.frame}. The schema depends on the mode:
\describe{
  \item{Summary mode}{Columns: \code{Species} (Latin), \code{Code}, \code{Abreviation},
  \code{Source}, \code{Available equations}. There is one row per Latin species
  \eqn{\times} source.}
  \item{Detailed mode}{Columns: \code{Species} (Latin), \code{Code},
  \code{Abreviation}, \code{Source}, \code{Equation_ID}, \code{Volume_Type},
  \code{Equation}. There is one row per equation.}
}
}
\description{
`carbofor_species()` explores the package allometric database (`equations`)
and returns a structured table of equations for each tree species.
It supports two display modes:
\itemize{
  \item \strong{Summary mode} (default; when both `species` and `equation_type` are `NULL`): one row per \emph{Latin} species name \eqn{\times} source, with the column \emph{Available equations} listing all equation types for that source. Cells for repeated \emph{Species}, \emph{Code}, and \emph{Abreviation} are visually merged when HTML tables are enabled.
  \item \strong{Detailed mode} (when `species` and/or `equation_type` is provided): one row per equation with the fully formatted mathematical expression (built via `build_equation()`).
}

The output column \code{Species} always displays the \emph{Latin} name. Practical
helpers (HTML styling, borders, merged cells) are applied when
\pkg{knitr} + \pkg{kableExtra} or \pkg{gt} are available; otherwise a clean
console fallback is used.
}
\details{
This function expects a data frame named \code{equations} available in scope
with columns at least: \code{Species}, \code{Latin}, \code{Code}, \code{Abr},
\code{Y}, \code{A0}, \code{Source_Eq}, \code{X0..X5}, \code{b0..b5}.
Detailed equations are built with \code{\link{build_equation}}.

If \pkg{knitr} and \pkg{kableExtra} are available, header styling and cell merging
(\code{kableExtra::collapse_rows}) are applied. With \pkg{gt}, a styled table
is produced; otherwise a console print is shown.
}
\section{Notes}{

\itemize{
  \item Species without \code{Code} or \code{Abr} are kept with \code{NA} values.
  \item Filtering by \code{species} matches \code{equations$Species} (human label),
        while the output \code{Species} column always shows the Latin name.
}
}

\examples{
\dontrun{
equations <- data.frame(
  Species   = c("Hetre", "Hetre", "Epicea commun"),
  Latin     = c("Fagus sylvatica", "Fagus sylvatica", "Picea abies"),
  Code      = c("FASY", "FASY", "PIAB"),
  Abr       = c("HETR", "HETR", "EPIC"),
  Y         = c("V22", "biomass", "V22"),
  A0        = c(1, 2, 3),
  Source_Eq = c("Dagnelie", "Vallet", "Dagnelie"),
  X0 = c("1", "1", "1"), X1 = c("DBH", "DBH", "DBH"),
  b0 = c(1.5, 2.0, 0.8), b1 = c(0.02, 0.03, 0.05),
  stringsAsFactors = FALSE
)
carbofor_species(plot = FALSE)                         # summary mode
carbofor_species(species = "Hetre", plot = FALSE)      # detailed by species
carbofor_species(equation_type = "V22", plot = FALSE)  # detailed by type
}

}
\seealso{
\code{\link{build_equation}}, \code{\link{list_species}}, \code{\link{list_equation_types}}
}
