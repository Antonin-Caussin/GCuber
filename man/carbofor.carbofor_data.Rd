% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/carbofor.R
\name{carbofor.carbofor_data}
\alias{carbofor.carbofor_data}
\title{Calculate tree volume, bark, biomass and carbon from a data.frame}
\usage{
\method{carbofor}{carbofor_data}(
  x,
  volume_type = "V22",
  equation_id = 1,
  carbon = FALSE,
  bark = FALSE,
  remove_na = FALSE,
  source = "Dagnellie",
  specimens = NULL,
  D130 = "D130",
  C130 = "C130",
  HTOT = "HTOT",
  HDOM = "HDOM",
  D150 = "D150",
  C150 = "C150",
  H = "H",
  biomass_method = "volume",
  ...
)
}
\arguments{
\item{x}{A data.frame containing individual tree data (must include at least Species and D130).}

\item{volume_type}{Character string specifying the type of volume to calculate (e.g., "V22", "V22B").}

\item{equation_id}{Integer indicating which equation to apply for each species (default = 1).}

\item{carbon}{Logical. If TRUE, biomass and carbon will be calculated.}

\item{bark}{Logical. If TRUE, bark thickness and bark/wood volume will be estimated.}

\item{remove_na}{Logical. If TRUE, rows with NA in the volume column will be removed.}

\item{source}{Character string specifying the source of the equations (e.g., "Dagnellie").}

\item{specimens}{A character vector of specimen IDs used for mapping or metadata consistency.}

\item{D130, }{C130, D150, C150, HTOT, HDOM, H Column names used for diameters, circumferences, and heights.}

\item{biomass_method}{Character. Method used to compute biomass if `carbon = TRUE`.
Options are `"volume"` (default) or `"equation"`.}

\item{...}{Additional arguments passed to subfunctions.}

\item{equations}{A data.frame of allometric equations with fields like Y, A0, b0:b5, X1:X5, Species, etc.}
}
\value{
A data.frame enriched with calculated columns such as:
volume (e.g., V22), Validity_Status, Equation_Used, Biomass_Total, Carbon_Total, etc.
}
\description{
Applies species-specific allometric equations to calculate tree volume, and optionally
bark thickness/volume and biomass/carbon.
}
\examples{
trees <- data.frame(Species = "Hetre", D130 = 32, HTOT = 25)
specimens <- c("FASY001")
equations <- get_equation_database()  # User-provided function or object
result <- carbofor(
  x = trees,
  equations = equations,
  specimens = specimens,
  carbon = TRUE,
  bark = TRUE
)
}
