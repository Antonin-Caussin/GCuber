% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_preprocessing.R
\name{diameter_conversions}
\alias{diameter_conversions}
\title{Convert Between Diameter and Circumference at Breast Height}
\usage{
diameter_conversions(x, C130, C150, D130, D150, HTOT = "HTOT", HDOM = "HDOM")
}
\arguments{
\item{x}{A \code{data.frame} containing tree-level dendrometric measurements. Must include at least one of the columns specified in \code{C130}, \code{C150}, \code{D130}, or \code{D150}.}

\item{C130}{Character. Name of the column containing circumference at 130 cm (in cm).}

\item{C150}{Character. Name of the column containing circumference at 150 cm (in cm).}

\item{D130}{Character. Name of the column containing diameter at 130 cm (in cm).}

\item{D150}{Character. Name of the column containing diameter at 150 cm (in cm).}

\item{HTOT}{Character. Name of the column containing total tree height. This parameter is currently unused but retained for compatibility.}

\item{HDOM}{Character. Name of the column containing dominant height. This parameter is currently unused but retained for compatibility.}
}
\value{
A \code{data.frame} identical to the input, with missing diameter or circumference values
imputed where possible using the relationship \eqn{C = \pi \cdot D} or \eqn{D = C / \pi}.
Columns that do not exist are created and filled with \code{NA_real_} if necessary.
}
\description{
Completes missing values of tree diameter or circumference at 130 cm and 150 cm
above ground using the relationship \eqn{C = \pi \cdot D}. This bidirectional conversion
ensures consistency of forest inventory data when either variable is missing.
}
\details{
This function does not overwrite existing values. It only fills in missing values
based on the complementary measurement. If a conversion is expected but the required
source variable is \code{NA}, a warning is issued.
}
\examples{
# Example: completing missing diameter and circumference values

df <- data.frame(
  Espece = c("Hetre", "Chene sessile", "Epicea commun"),
  D130   = c(32, NA, 40),    # diameter at 1.30 m (cm)
  C130   = c(NA, 120, NA),   # circumference at 1.30 m (cm)
  D150   = c(NA, 35, NA),    # diameter at 1.50 m (cm)
  C150   = c(110, NA, NA),   # circumference at 1.50 m (cm)
  HTOT   = c(28, 30, 25),    # total height (m)
  HDOM   = c(30, 32, 27)     # dominant height (m)
)

# Run conversion helper
result <- diameter_conversions(
  x = df,
  C130 = "C130",
  C150 = "C150",
  D130 = "D130",
  D150 = "D150",
  HTOT = "HTOT",
  HDOM = "HDOM"
)

head(result)
}
\seealso{
\code{\link{convert_circumference}}, \code{\link{calculate_basal_areas}}, \code{\link{preprocess_data}}
}
