% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/liste.R
\name{build_equation}
\alias{build_equation}
\title{Explore and Display Forest Allometric Equations}
\usage{
build_equation(x_cols, b_cols, y_var)
}
\arguments{
\item{species}{Character string. Name of the tree species to filter for.
Must match exactly the species names in the database. Use \code{list_species()}
to see available species. Default is \code{NULL} (no species filter).}

\item{equation_type}{Character string. Type of equation to filter for
(e.g., "V22", "biomass", "height"). Must match exactly the equation types
in the Y column of the database. Use \code{list_equation_types()} to see
available types. Default is \code{NULL} (no equation type filter).}

\item{plot}{Logical. Whether to display formatted tables. If \code{TRUE}
(default), attempts to create formatted HTML tables using knitr/kableExtra
or gt packages. If these packages are not available, falls back to console
output. If \code{FALSE}, returns data without visual formatting.}
}
\value{
Invisibly returns a data frame containing the filtered results:
  \itemize{
    \item If no filters are applied: Summary table with species names,
          available equation types, and sources
    \item If filters are applied: Detailed table with equation IDs,
          species, volume types, sources, and complete equation formulas
  }
}
\description{
This function provides an interface to explore forest allometric equations
from the carbofor database. It allows filtering by species and/or equation type,
and presents results in formatted tables with complete equation formulas.
}
\details{
The function operates in two modes:
\itemize{
  \item \strong{Summary mode} (no filters): Shows overview of all available
        species with their equation types and sources
  \item \strong{Detailed mode} (with filters): Shows complete equations with
        coefficients formatted as mathematical expressions
}

Equations are built using the \code{build_equation()} helper function, which
formats coefficients and variables into readable mathematical expressions.
Only non-zero, non-NA coefficients are included in the final equations.

The function supports visual output through multiple table formatting packages:
\itemize{
  \item Primary: knitr + kableExtra (HTML tables with Bootstrap styling)
  \item Alternative: gt package (Grammar of Tables)
  \item Fallback: Console output with formatted text
}
}
\section{Database Structure}{

The function expects a data frame named \code{equations} with the following columns:
\itemize{
  \item \code{Species}: Species names
  \item \code{A0}: Equation IDs
  \item \code{Y}: Equation types/response variables
  \item \code{Source_Eq}: Source references
  \item \code{X0, X1, X2, X3, X4, X5}: Predictor variable names
  \item \code{b0, b1, b2, b3, b4, b5}: Equation coefficients
}
}

\examples{
# Display all available species and equation types
carbofor_species()

# Get equations for a specific species
carbofor_species("Fagus sylvatica")
carbofor_species("Picea abies")

# Get equations of a specific type
carbofor_species(equation_type = "V22")
carbofor_species(equation_type = "biomass")

# Combine filters: specific species and equation type
carbofor_species("Fagus sylvatica", equation_type = "V22")

# Get data without visual formatting for further analysis
data <- carbofor_species(plot = FALSE)
equations_v22 <- carbofor_species(equation_type = "V22", plot = FALSE)

# Using the shorter alias
species("Quercus robur")
species()

}
\seealso{
\code{\link{list_species}} for listing available species names
\code{\link{list_equation_types}} for listing available equation types
\code{\link{species}} for the shorter function alias
\code{\link{equation}} for filtering by equation type only
}
\author{
[Your Name]
}
