% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Fonction.R
\name{calculer_volumes}
\alias{calculer_volumes}
\title{Calculate different types of volumes from dendrometric data}
\usage{
calculer_volumes(
  df,
  type_volume = "V22",
  essence = NULL,
  id_equation = 1,
  remove_na = FALSE,
  C130 = "C130",
  C150 = "C150",
  HTOT = "HTOT",
  HDOM = "HDOM",
  specimens = NULL
)
}
\arguments{
\item{df}{A data frame containing the dendrometric data of the trees.}

\item{type_volume}{The type of volume to calculate. Valid values: "V22", "V22B", "E", "V22_HA". Default: "V22".}

\item{essence}{If specified, calculations will be performed only with equations corresponding
to this species. Default: NULL (uses species indicated in the data).}

\item{id_equation}{The identifier of the equation to use for each species, representing the entry number. Default: 1.}

\item{remove_na}{Boolean indicating whether rows with uncalculated volumes should be removed.
Default: FALSE.}

\item{C130}{Name of the column containing the circumference at 130 cm. Default: "C130".}

\item{C150}{Name of the column containing the circumference at 150 cm. Default: "C150".}

\item{HTOT}{Name of the column containing the total height. Default: "HTOT".}

\item{HDOM}{Name of the column containing the dominant height. Default: "HDOM".}

\item{specimens}{Name of the column containing the species identifier (full name, code or abbreviation). Default: NULL.}
}
\value{
A data frame similar to \code{df} with the following additional columns:
\itemize{
  \item The column specified by \code{type_volume} containing the calculated volumes.
  \item \code{Equation_Utilisee} : Information about the equation used for each row.
  \item If a C150 to C130 conversion was performed, a \code{C130} column is added.
  \item If species mapping was necessary, a \code{Species} column is added.
}
}
\description{
This function allows calculating different types of tree volumes from
dendrometric data using various allometric equations. It handles the diversity
of forest species, different measurement methods (C130, C150) and can adapt
to different input data structures.
}
\details{
\subsection{Supported volume types}{
  \itemize{
    \item \strong{V22} : Merchantable volume up to a 22 cm circumference cut.
    \item \strong{V22B} : Branch volume up to a 22cm circumference cut.
    \item \strong{E} : Tree bark volume.
    \item \strong{V22_HA} : Merchantable volume per hectare.
  }
}

\subsection{Required input data structure}{
  The function requires at minimum:
  \itemize{
    \item A forest species identification column (specified via \code{specimens}.
    \item A diameter column (either \code{C130} or \code{C150}).
  }
}

\subsection{Supported equation types (A0 values)}{
  \enumerate{
    \item Standard linear equation with 1 input: Volume = b0 + b1*X1 + b2*X2 + ... + b5*X5
    \item Standard linear equation with 2 inputs: Volume = b0 + b1*X1 + b2*X2 + ... + b5*X5
    \item Standard linear equation with 3 inputs: Volume = b0 + b1*X1 + b2*X2 + ... + b5*X5
    \item Logarithmic equation : Volume = 10^(b0 + b1*log10(C130))
    \item Standard linear equation with one input for bark volume : Volume = b0 + b1*X1 + b2*X2 + ... + b5*X5
  }
}
}
\note{
The function displays information messages during execution to facilitate debugging.
Warnings are issued if species correspondences are not found or if
volume calculation fails for certain rows.
}
\examples{
# Basic example with standard data
# Suppose we have a data frame "donnees_arbres" with C130 and Essence columns
\dontrun{
resultats <- calculer_volumes(
  df = donnees_arbres,
  type_volume = "V22",
  C130 = circ2024
)

# Example with custom column names
resultats <- calculer_volumes(
  df = donnees_arbres,
  type_volume = "E",
  id_equation = 2,
  C130 = "Circonference130",
  HTOT = "HauteurTotale",
  specimens = "NomEssence"
)

# Example with C150 to C130 conversion
resultats <- calculer_volumes(
  df = donnees_arbres,
  type_volume = "V22",
  C150 = "Circ150"
)
}

}
\references{
Dagnelie, P., Rondeux, J., & Thill, A. (1985). Tables de cubage des arbres et des peuplements forestiers. Gembloux, Belgique: Presses agronomiques de Gembloux.
}
\seealso{
Related functions for forest management and dendrometric calculations.
}
\author{
Caussin Antonin
}
